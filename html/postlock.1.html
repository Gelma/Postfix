<html> <head> </head> <body> <pre>



POSTLOCK(1)                                           POSTLOCK(1)


<b>NAME</b>
       postlock - lock mail folder and execute command

<b>SYNOPSIS</b>
       <b>postlock</b> [<b>-c</b> <i>config_dir</i><b>]</b> <b>[-v</b>] <i>file</i> <i>command...</i>

<b>DESCRIPTION</b>
       The  <b>postlock</b> command locks <i>file</i> for exclusive access, and
       executes <i>command</i>. The locking method  is  compatible  with
       the Postfix UNIX-style local delivery agent.

       Options:

       <b>-c</b> <i>config_dir</i>
              Read  configuration information from <b>main.cf</b> in the
              named configuration directory.

       <b>-v</b>     Enable verbose logging for debugging purposes. Mul-
              tiple  <b>-v</b>  options  make  the software increasingly
              verbose.

       Arguments:

       <i>file</i>   A mailbox file. The  user  should  have  read/write
              permission.

       <i>command...</i>
              The  command  to  execute  while <i>file</i> is locked for
              exclusive  access.    The   command   is   executed
              directly,  i.e.  without  interpretation by a shell
              command interpreter.

<b>DIAGNOSTICS</b>
       The result status is 75 (EX_TEMPFAIL)  when  the  file  is
       locked  by another process, 255 (on some systems: -1) when
       <b>postlock</b> could not perform the requested operation.   Oth-
       erwise,  the  exit status is the exit status from the com-
       mand.

<b>BUGS</b>
       With remote file systems, the ability to  acquire  a  lock
       does  not  necessarily  eliminate  access conflicts. Avoid
       file access by processes running on different machines.

<b>ENVIRONMENT</b>
       <b>MAIL</b><i>_</i><b>CONFIG</b>
              Directory with Postfix configuration files.

       <b>MAIL</b><i>_</i><b>VERBOSE</b>
              Enable verbose logging for debugging purposes.

<b>CONFIGURATION</b> <b>PARAMETERS</b>
       The following <b>main.cf</b> parameters are  especially  relevant
       to  this  program. See the Postfix <b>main.cf</b> file for syntax



                                                                1





POSTLOCK(1)                                           POSTLOCK(1)


       details and for default values.

<b>Locking</b> <b>controls</b>
       <b>deliver</b><i>_</i><b>lock</b><i>_</i><b>attempts</b>
              Limit the number of attempts to acquire  an  exclu-
              sive lock.

       <b>deliver</b><i>_</i><b>lock</b><i>_</i><b>delay</b>
              Time  in  seconds  between  successive  attempts to
              acquire an exclusive lock.

       <b>stale</b><i>_</i><b>lock</b><i>_</i><b>time</b>
              Limit the time after which a stale lock is removed.

<b>Resource</b> <b>controls</b>
       <b>fork</b><i>_</i><b>attempts</b>
              Number  of attempts to <b>fork</b>() a process before giv-
              ing up.

       <b>fork</b><i>_</i><b>delay</b>
              Delay  in   seconds   between   successive   <b>fork</b>()
              attempts.

<b>LICENSE</b>
       The  Secure  Mailer  license must be distributed with this
       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA

























                                                                2


</pre> </body> </html>
