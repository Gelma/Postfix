<html> <head> </head> <body> <pre>



VIRTUAL(5)                                             VIRTUAL(5)


<b>NAME</b>
       virtual - format of Postfix virtual table

<b>SYNOPSIS</b>
       <b>postmap</b> <b>/etc/postfix/virtual</b>

<b>DESCRIPTION</b>
       The  optional  <b>virtual</b>  table  specifies  redirections for
       local and non-local recipients or  domains.  The  redirec-
       tions  are used by the <a href="cleanup.8.html"><b>cleanup</b>(8)</a> daemon. The redirections
       are recursive.

       The <b>virtual</b> redirection is applied only to  the  recipient
       envelope  address,  and  does  not affect message headers.
       Think Sendmail rule set <b>S0</b>, if you like. Use  <a href="canonical.5.html"><b>canonical</b>(5)</a>
       mapping  to  rewrite header and envelope addresses in gen-
       eral.

       The file serves as input to the  <a href="postmap.1.html"><b>postmap</b>(1)</a>  command.  The
       result,  an  indexed file in <b>dbm</b> or <b>db</b> format, is used for
       fast searching by the mail system. After an update it  may
       take  a  minute  or  so before the change becomes visible.
       Issue a <b>postfix</b> <b>reload</b> command to eliminate the delay.

       Typical support for a virtual domain looks like  the  fol-
       lowing:

           <i>virtual.domain</i>       <i>anything</i> (right-hand content does not matter)
           <i>user1@virtual.domain</i> <i>address1</i>
           <i>user2@virtual.domain</i> <i>address2,</i> <i>address3</i>

       With this, the SMTP server accepts mail for <i>virtual.domain</i>
       and rejects mail for <i>unknown</i>@<i>virtual.domain</i> as  undeliver-
       able.

       The  format  of  the virtual table is as follows, mappings
       being tried in the order as listed in this manual page:

       blanks and comments
              Blank lines are ignored,  as  are  lines  beginning
              with `#'.

       <i>user</i>@<i>domain</i> <i>address,</i> <i>address,</i> <i>...</i>
              Mail  for  <i>user</i>@<i>domain</i>  is  redirected  to <i>address</i>.
              This form has the highest precedence.

       <i>user</i> <i>address,</i> <i>address,</i> <i>...</i>
              Mail for <i>user</i>@<i>site</i> is redirected  to  <i>address</i>  when
              <i>site</i>  is equal to $<b>myorigin</b>, when <i>site</i> is listed in
              $mydestination,   or   when   it   is   listed   in
              $<i>inet_interfaces</i>.

              This  functionality  overlaps with functionality of
              the local <i>alias</i>(5) database. The difference is that



                                                                1





VIRTUAL(5)                                             VIRTUAL(5)


              <b>virtual</b>   mapping   can  be  applied  to  non-local
              addresses.

       @<i>domain</i> <i>address,</i> <i>address,</i> <i>...</i>
              Mail for  any  user  in  <i>domain</i>  is  redirected  to
              <i>address</i>.  This form has the lowest precedence.

       In  all the above forms, when <i>address</i> has the form @<i>other-</i>
       <i>domain</i>, the result is the same user in <i>otherdomain</i>.   This
       works for the first address in the expansion only.

<b>ADDRESS</b> <b>EXTENSION</b>
       When  the search fails, and the address localpart contains
       the optional recipient delimiter (e.g.,  <i>user+foo</i>@<i>domain</i>),
       the  search  is  repeated for the unextended address (e.g.
       <i>user</i>@<i>domain</i>), and the unmatched address extension is prop-
       agated  to the result of expansion. The matching order is:
       <i>user+foo</i>@<i>domain</i>, <i>user</i>@<i>domain</i>, <i>user+foo</i>, <i>user</i>, and @<i>domain</i>.

<b>BUGS</b>
       The  table format does not understand quoting conventions.

<b>CONFIGURATION</b> <b>PARAMETERS</b>
       The following <b>main.cf</b> parameters are  especially  relevant
       to  this  topic.  See  the Postfix <b>main.cf</b> file for syntax
       details and for default values.  Use  the  <b>postfix</b>  <b>reload</b>
       command after a configuration change.

       <b>virtual</b><i>_</i><b>maps</b>
              List of virtual mapping tables.

       Other parameters of interest:

       <b>inet</b><i>_</i><b>interfaces</b>
              The  network  interface  addresses that this system
              receives mail on.

       <b>mydestination</b>
              List of domains that  this  mail  system  considers
              local.

       <b>myorigin</b>
              The domain that is appended to locally-posted mail.

       <b>owner</b><i>_</i><b>request</b><i>_</i><b>special</b>
              Give special treatment to <b>owner-</b><i>xxx</i> and <i>xxx</i><b>-request</b>
              addresses.

<b>SEE</b> <b>ALSO</b>
       <a href="cleanup.8.html">cleanup(8)</a> canonicalize and enqueue mail
       <a href="postmap.1.html">postmap(1)</a> create mapping table

<b>LICENSE</b>
       The  Secure  Mailer  license must be distributed with this



                                                                2





VIRTUAL(5)                                             VIRTUAL(5)


       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA


















































                                                                3


</pre> </body> </html>
