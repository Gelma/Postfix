<html> <head> </head> <body> <pre>



SMTP(8)                                                   SMTP(8)


<b>NAME</b>
       smtp - Postfix remote delivery via SMTP

<b>SYNOPSIS</b>
       <b>smtp</b> [generic Postfix daemon options]

<b>DESCRIPTION</b>
       The  SMTP  client processes message delivery requests from
       the queue manager. Each request specifies a queue file,  a
       sender address, a domain or host to deliver to, and recip-
       ient information.  This program expects to be run from the
       <a href="master.8.html"><b>master</b>(8)</a> process manager.

       The  SMTP  client updates the queue file and marks recipi-
       ents as finished, or it informs  the  queue  manager  that
       delivery  should  be tried again at a later time. Delivery
       problem reports are sent to the <a href="bounce.8.html"><b>bounce</b>(8)</a> or <a href="defer.8.html"><b>defer</b>(8)</a> dae-
       mon as appropriate.

       The  SMTP  client  looks  up  a  list  of  mail  exchanger
       addresses for the destination  host,  sorts  the  list  by
       preference,  and  connects to each listed address until it
       finds a server that responds.

       When the domain or host is specified as a comma/whitespace
       separated  list, the SMTP client repeats the above process
       for  all  destinations  until  it  finds  a  server   that
       responds.

       Once the SMTP client has received the server greeting ban-
       ner, no error will cause it to proceed to the next address
       on the mail exchanger list. Instead, the message is either
       bounced, or its delivery is deferred until later.

<b>SECURITY</b>
       The SMTP client is moderately security-sensitive. It talks
       to  SMTP  servers  and  to DNS servers on the network. The
       SMTP client can be run chrooted at fixed low privilege.

<b>STANDARDS</b>
       <a href="http://www.faqs.org/rfcs/rfc821.html">RFC 821</a> (SMTP protocol)
       <a href="http://www.faqs.org/rfcs/rfc1651.html">RFC 1651</a> (SMTP service extensions)
       <a href="http://www.faqs.org/rfcs/rfc1870.html">RFC 1870</a> (Message Size Declaration)
       <a href="http://www.faqs.org/rfcs/rfc2197.html">RFC 2197</a> (Pipelining)
       <a href="http://www.faqs.org/rfcs/rfc2554.html">RFC 2554</a> (AUTH command)

<b>DIAGNOSTICS</b>
       Problems and transactions are logged to <b>syslogd</b>(8).   Cor-
       rupted  message files are marked so that the queue manager
       can move them to the <b>corrupt</b> queue for further inspection.

       Depending  on the setting of the <b>notify</b><i>_</i><b>classes</b> parameter,
       the postmaster is notified of bounces, protocol  problems,
       and of other trouble.



                                                                1





SMTP(8)                                                   SMTP(8)


<b>BUGS</b>
<b>CONFIGURATION</b> <b>PARAMETERS</b>
       The  following  <b>main.cf</b> parameters are especially relevant
       to this program. See the Postfix <b>main.cf</b> file  for  syntax
       details  and  for  default  values. Use the <b>postfix</b> <b>reload</b>
       command after a configuration change.

<b>Miscellaneous</b>
       <b>best</b><i>_</i><b>mx</b><i>_</i><b>transport</b>
              Name of the delivery  transport  to  use  when  the
              local  machine is the most-preferred mail exchanger
              (by default, a mailer loop  is  reported,  and  the
              message is bounced).

       <b>debug</b><i>_</i><b>peer</b><i>_</i><b>level</b>
              Verbose  logging  level  increment  for  hosts that
              match a pattern in the <b>debug</b><i>_</i><b>peer</b><i>_</i><b>list</b> parameter.

       <b>debug</b><i>_</i><b>peer</b><i>_</i><b>list</b>
              List of domain or network patterns. When  a  remote
              host  matches  a pattern, increase the verbose log-
              ging  level  by  the  amount   specified   in   the
              <b>debug</b><i>_</i><b>peer</b><i>_</i><b>level</b> parameter.

       <b>disable</b><i>_</i><b>dns</b><i>_</i><b>lookups</b>
              Disable  DNS  lookups. This means that mail must be
              forwarded via a smart relay host.

       <b>error</b><i>_</i><b>notice</b><i>_</i><b>recipient</b>
              Recipient   of    protocol/policy/resource/software
              error notices.

       <b>fallback</b><i>_</i><b>relay</b>
              Hosts  to hand off mail to if a message destination
              is not found or if a destination is unreachable.

       <b>ignore</b><i>_</i><b>mx</b><i>_</i><b>lookup</b><i>_</i><b>error</b>
              When a name server fails to respond to an MX query,
              search  for  an  A  record  instead  deferring mail
              delivery.

       <b>inet</b><i>_</i><b>interfaces</b>
              The network interface addresses that this mail sys-
              tem  receives  mail on. When any of those addresses
              appears in the list of mail exchangers for a remote
              destination,  the  list  is truncated to avoid mail
              delivery loops.

       <b>notify</b><i>_</i><b>classes</b>
              When this parameter includes  the  <b>protocol</b>  class,
              send  mail  to  the  postmaster with transcripts of
              SMTP sessions with protocol errors.





                                                                2





SMTP(8)                                                   SMTP(8)


       <b>smtp</b><i>_</i><b>always</b><i>_</i><b>send</b><i>_</i><b>ehlo</b>
              Always send EHLO at the start of a connection.

       <b>smtp</b><i>_</i><b>never</b><i>_</i><b>send</b><i>_</i><b>ehlo</b>
              Never send EHLO at the start of a connection.

       <b>smtp</b><i>_</i><b>skip</b><i>_</i><b>4xx</b><i>_</i><b>greeting</b>
              Skip servers that greet us with a 4xx status  code.

       <b>smtp</b><i>_</i><b>skip</b><i>_</i><b>5xx</b><i>_</i><b>greeting</b>
              Skip  servers that greet us with a 5xx status code.

       <b>smtp</b><i>_</i><b>skip</b><i>_</i><b>quit</b><i>_</i><b>response</b>
              Do not wait for the server response  after  sending
              QUIT.

       <b>smtp</b><i>_</i><b>bind</b><i>_</i><b>address</b>
              Numerical  network address to bind to when making a
              connection.

<b>Authentication</b> <b>controls</b>
       <b>smtp</b><i>_</i><b>enable</b><i>_</i><b>sasl</b><i>_</i><b>auth</b>
              Enable per-session authentication as per  <a href="http://www.faqs.org/rfcs/rfc2554.html">RFC  2554</a>
              (SASL).   By default, Postfix is built without SASL
              support.

       <b>smtp</b><i>_</i><b>sasl</b><i>_</i><b>password</b><i>_</i><b>maps</b>
              Lookup tables with per-host or domain <i>name</i>:<i>password</i>
              entries.   No  entry for a host means no attempt to
              authenticate.

       <b>smtp</b><i>_</i><b>sasl</b><i>_</i><b>security</b><i>_</i><b>options</b>
              Zero or more of the following.

              <b>noplaintext</b>
                     Disallow  authentication  methods  that  use
                     plaintext passwords.

              <b>noactive</b>
                     Disallow  authentication  methods  that  are
                     vulnerable to non-dictionary active attacks.

              <b>nodictionary</b>
                     Disallow  authentication  methods  that  are
                     vulnerable to passive dictionary attack.

              <b>noanonymous</b>
                     Disallow anonymous logins.

<b>Resource</b> <b>controls</b>
       <b>smtp</b><i>_</i><b>destination</b><i>_</i><b>concurrency</b><i>_</i><b>limit</b>
              Limit the number of parallel deliveries to the same
              destination.   The  default limit is taken from the
              <b>default</b><i>_</i><b>destination</b><i>_</i><b>concurrency</b><i>_</i><b>limit</b> parameter.



                                                                3





SMTP(8)                                                   SMTP(8)


       <b>smtp</b><i>_</i><b>destination</b><i>_</i><b>recipient</b><i>_</i><b>limit</b>
              Limit the number of recipients per  message  deliv-
              ery.    The   default   limit  is  taken  from  the
              <b>default</b><i>_</i><b>destination</b><i>_</i><b>recipient</b><i>_</i><b>limit</b> parameter.

<b>Timeout</b> <b>controls</b>
       The default time unit is seconds; an  explicit  time  unit
       can  be  specified by appending a one-letter suffix to the
       value: s (seconds), m (minutes), h (hours), d (days) or  w
       (weeks).

       <b>smtp</b><i>_</i><b>connect</b><i>_</i><b>timeout</b>
              Timeout  for  completing  a TCP connection. When no
              connection can be made  within  the  deadline,  the
              SMTP  client  tries  the  next  address on the mail
              exchanger list.

       <b>smtp</b><i>_</i><b>helo</b><i>_</i><b>timeout</b>
              Timeout for receiving  the  SMTP  greeting  banner.
              When  the server drops the connection without send-
              ing a greeting banner, or when it sends no greeting
              banner  within  the deadline, the SMTP client tries
              the next address on the mail exchanger list.

       <b>smtp</b><i>_</i><b>helo</b><i>_</i><b>timeout</b>
              Timeout for  sending  the  <b>HELO</b>  command,  and  for
              receiving the server response.

       <b>smtp</b><i>_</i><b>mail</b><i>_</i><b>timeout</b>
              Timeout  for sending the <b>MAIL</b> <b>FROM</b> command, and for
              receiving the server response.

       <b>smtp</b><i>_</i><b>rcpt</b><i>_</i><b>timeout</b>
              Timeout for sending the <b>RCPT</b> <b>TO</b>  command,  and  for
              receiving the server response.

       <b>smtp</b><i>_</i><b>data</b><i>_</i><b>init</b><i>_</i><b>timeout</b>
              Timeout  for  sending  the  <b>DATA</b>  command,  and for
              receiving the server response.

       <b>smtp</b><i>_</i><b>data</b><i>_</i><b>xfer</b><i>_</i><b>timeout</b>
              Timeout for sending the message content.

       <b>smtp</b><i>_</i><b>data</b><i>_</i><b>done</b><i>_</i><b>timeout</b>
              Timeout  for  sending  the  "<b>.</b>"  command,  and  for
              receiving  the server response. When no response is
              received, a warning is logged that the mail may  be
              delivered multiple times.

       <b>smtp</b><i>_</i><b>quit</b><i>_</i><b>timeout</b>
              Timeout  for  sending  the  <b>QUIT</b>  command,  and for
              receiving the server response.





                                                                4





SMTP(8)                                                   SMTP(8)


<b>SEE</b> <b>ALSO</b>
       <a href="bounce.8.html">bounce(8)</a> non-delivery status reports
       <a href="master.8.html">master(8)</a> process manager
       <a href="qmgr.8.html">qmgr(8)</a> queue manager
       syslogd(8) system logging

<b>LICENSE</b>
       The Secure Mailer license must be  distributed  with  this
       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA










































                                                                5


</pre> </body> </html>
