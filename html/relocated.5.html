<html> <head> </head> <body> <pre>
RELOCATED(5)                                         RELOCATED(5)

<b>NAME</b>
       relocated - format of Postfix relocated table

<b>SYNOPSIS</b>
       <b>postmap</b> <b>/etc/postfix/relocated</b>

<b>DESCRIPTION</b>
       The optional <b>relocated</b> table provides the information that
       is used in "user has moved to  <i>new_location</i>"  bounce  mes-
       sages.

       Normally,  the <b>relocated</b> table is specified as a text file
       that serves as  input  to  the  <a href="postmap.1.html"><b>postmap</b>(1)</a>  command.   The
       result,  an  indexed file in <b>dbm</b> or <b>db</b> format, is used for
       fast searching by the mail  system.  Execute  the  command
       <b>postmap</b>  <b>/etc/postfix/relocated</b>  in  order  to rebuild the
       indexed file after changing the relocated table.

       When the table is provided via other means  such  as  NIS,
       LDAP  or  SQL,  the  same lookups are done as for ordinary
       indexed files.

       Alternatively, the table can be  provided  as  a  regular-
       expression map where patterns are given as regular expres-
       sions. In that case, the lookups are done  in  a  slightly
       different way as described below.

       Table lookups are case insensitive.

<b>TABLE</b> <b>FORMAT</b>
       The format of the table is as follows:

       <b>o</b>      An entry has one of the following form:
                   <i>key</i>  <i>new_location</i>
              Where  <i>new_location</i>  specifies  contact information
              such as an  email  address,  or  perhaps  a  street
              address or telephone number.

       <b>o</b>      Empty  lines and whitespace-only lines are ignored,
              as are lines whose first  non-whitespace  character
              is a `#'.

       <b>o</b>      A  logical  line starts with non-whitespace text. A
              line that starts with whitespace continues a  logi-
              cal line.

       With lookups from indexed files such as DB or DBM, or from
       networked tables such as NIS, LDAP or SQL, the  <i>key</i>  field
       is one of the following:

       <i>user</i>@<i>domain</i>
              Matches  <i>user</i>@<i>domain</i>. This form has precedence over
              all other forms.

       <i>user</i>   Matches <i>user</i>@<i>site</i> when <i>site</i> is $<b>myorigin</b>, when <i>site</i>
              is listed in $<b>mydestination</b>, or when <i>site</i> is listed
              in $<b>inet</b><i>_</i><b>interfaces</b>.

       @<i>domain</i>
              Matches every address in <i>domain</i>. This form has  the
              lowest precedence.

<b>ADDRESS</b> <b>EXTENSION</b>
       When a mail address localpart contains the optional recip-
       ient delimiter (e.g., <i>user+foo</i>@<i>domain</i>), the  lookup  order
       becomes: <i>user+foo</i>@<i>domain</i>, <i>user</i>@<i>domain</i>, <i>user+foo</i>, <i>user</i>, and
       @<i>domain</i>.

<b>REGULAR</b> <b>EXPRESSION</b> <b>TABLES</b>
       This section describes how the table lookups  change  when
       the table is given in the form of regular expressions. For
       a description of regular expression lookup  table  syntax,
       see <a href="regexp_table.5.html"><b>regexp</b><i>_</i><b>table</b>(5)</a> or <a href="pcre_table.5.html"><b>pcre</b><i>_</i><b>table</b>(5)</a>.

       Each  pattern  is  a regular expression that is applied to
       the entire address being looked up. Thus, <i>user@domain</i> mail
       addresses  are  not  broken up into their <i>user</i> and <i>@domain</i>
       constituent parts, nor is <i>user+foo</i> broken up into <i>user</i> and
       <i>foo</i>.

       Patterns  are  applied  in  the  order as specified in the
       table, until a pattern is found that  matches  the  search
       string.

       Results  are  the  same as with indexed file lookups, with
       the additional feature that parenthesized substrings  from
       the pattern can be interpolated as <b>$1</b>, <b>$2</b> and so on.

<b>BUGS</b>
       The  table format does not understand quoting conventions.

<b>CONFIGURATION</b> <b>PARAMETERS</b>
       The following <b>main.cf</b> parameters are  especially  relevant
       to  this  topic.  See  the Postfix <b>main.cf</b> file for syntax
       details and for default values.  Use  the  <b>postfix</b>  <b>reload</b>
       command after a configuration change.

       <b>relocated</b><i>_</i><b>maps</b>
              List of lookup tables for relocated users or sites.

       Other parameters of interest:

       <b>inet</b><i>_</i><b>interfaces</b>
              The network interface addresses  that  this  system
              receives mail on.  You need to stop and start Post-
              fix when this parameter changes.

       <b>mydestination</b>
              List of domains that  this  mail  system  considers
              local.

       <b>myorigin</b>
              The domain that is appended to locally-posted mail.

<b>SEE</b> <b>ALSO</b>
       <a href="postmap.1.html">postmap(1)</a> create lookup table
       <a href="pcre_table.5.html">pcre_table(5)</a> format of PCRE tables
       <a href="regexp_table.5.html">regexp_table(5)</a> format of POSIX regular expression tables

<b>LICENSE</b>
       The Secure Mailer license must be  distributed  with  this
       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA

                                                     RELOCATED(5)
</pre> </body> </html>
