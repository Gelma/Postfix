.TH SENDMAIL 1 
.ad
.fi
.SH NAME
sendmail
\-
Postfix to Sendmail compatibility interface
.SH SYNOPSIS
.na
.nf
\fBsendmail\fR [\fIoption ...\fR] [\fIrecipient ...\fR]

\fBmailq\fR
\fBsendmail -bp\fR

\fBnewaliases\fR
\fBsendmail -I\fR
.SH DESCRIPTION
.ad
.fi
The \fBsendmail\fR program implements the Postfix to Sendmail
compatibility interface.
For the sake of compatibility with existing applications, some
Sendmail command-line options are recognized but silently ignored.

By default, \fBsendmail\fR reads a message from standard input
until EOF or until it reads a line with only a \fB.\fR character,
and arranges for delivery.  \fBsendmail\fR attempts to create
a queue file in the \fBmaildrop\fR directory. If that directory
is not world-writable, the message is piped through the
\fBpostdrop\fR(1) command, which is expected to execute with
suitable privileges.

Specific command aliases are provided for other common modes of
operation:
.IP \fBmailq\fR
List the mail queue. Each entry shows the queue file ID, message
size, arrival time, sender, and the recipients that still need to
be delivered.  If mail could not be delivered upon the last attempt,
the reason for failure is shown. This mode of operation is implemented
by connecting to the \fBshowq\fR(8) daemon.
.IP \fBnewaliases\fR
Initialize the alias database. If no alias database type is
specified, the program uses the type specified in the
\fBdatabase_type\fR configuration parameter; if no input file
is specified, the program processes the file(s) specified with the
\fBalias_database\fR configuration parameter. This mode of operation
is implemented by running the \fBpostalias\fR(1) command.
.sp
Note: it may take a minute or so before an alias database update
becomes visible. Use the \fBpostfix reload\fR command to eliminate
this delay.
.PP
These and other features can be selected by specifying the
appropriate combination of command-line options. Some features are
controlled by parameters in the \fBmain.cf\fR configuration file.

The following options are recognized:
.IP "\fB-B \fIbody_type\fR (ignored)"
The message body MIME type. Currently, Postfix implements
\fBjust-send-eight\fR.
.IP "\fB-C \fIconfig_file\fR (ignored :-)"
The path name of the \fBsendmail.cf\fR file. Postfix configuration
files are kept in \fB/etc/postfix\fR.
.IP "\fB-F \fIfull_name\fR
Set the sender full name. This is used only with messages that
have no \fBFrom:\fR message header.
.IP "\fB-G\fR (ignored)"
Gateway (relay) submission, as opposed to initial user submission.
.IP \fB-I\fR
Initialize alias database. See the \fBnewaliases\fR
command above.
.IP "\fB-N \fIdsn\fR (ignored)"
Delivery status notification control. Currently, Postfix does
not implement \fBDSN\fR.
.IP "\fB-R \fIreturn_limit\fR (ignored)"
Limit the size of bounced mail. Use the \fBbounce_size_limit\fR
configuration parameter instead.
.IP "\fB-X \fIlog_file\fR (ignored)"
Log mailer traffic. Use the \fBdebug_peer_list\fR and
\fBdebug_peer_level\fR configuration parameters instead.
.IP "\fB-U\fR (ignored)"
Initial user submission.
.IP \fB-bd\fR
Go into daemon mode. This mode of operation is implemented by
executing the \fBpostfix start\fR command.
.IP \fB-bi\fR
Initialize alias database. See the \fBnewaliases\fR
command above.
.IP \fB-bm\fR
Read mail from standard input and arrange for delivery.
This is the default mode of operation.
.IP \fB-bp\fR
List the mail queue. See the \fBmailq\fR command above.
.IP \fB-bs\fR
Stand-alone SMTP server mode. Read SMTP commands from
standard input, and write responses to standard output.
This mode of operation is implemented by running the
\fBsmtpd\fR(8) daemon.
.IP "\fB-f \fIsender\fR"
Set the envelope sender address. This is the address where
delivery problems are sent to, unless the message contains an
\fBErrors-To:\fR message header.
.IP "\fB-h \fIhop_count\fR (ignored)"
Hop count limit. Use the \fBhopcount_limit\fR configuration
parameter instead.
.IP "\fB-i\fR"
When reading a message from standard input, don\'t treat a line
with only a \fB.\fR character as the end of input.
.IP "\fB-m\fR (ignored)"
Backwards compatibility.
.IP "\fB-n\fR (ignored)"
Backwards compatibility.
.IP "\fB-oA\fIalias_database\fR"
Non-default alias database. Specify \fIpathname\fR or
\fItype\fR:\fIpathname\fR. See \fBpostalias\fR(1) for
details.
.IP "\fB-o7\fR (ignored)"
.IP "\fB-o8\fR (ignored)"
The message body type. Currently, Postfix implements
\fBjust-send-eight\fR.
.IP "\fB-oi\fR"
When reading a message from standard input, don\'t treat a line
with only a \fB.\fR character as the end of input.
.IP "\fB-om\fR (ignored)"
The sender is never eliminated from alias etc. expansions.
.IP "\fB-o \fIx value\fR (ignored)"
Set option \fIx\fR to \fIvalue\fR. Use the equivalent
configuration parameter in \fBmain.cf\fR instead.
.IP "\fB-r \fIsender\fR"
Set the envelope sender address. This is the address where
delivery problems are sent to, unless the message contains an
\fBErrors-To:\fR message header.
.IP \fB-q\fR
Attempt to deliver all queued mail. This is implemented by kicking the
\fBqmgr\fR(8) daemon.
.IP "\fB-q\fIinterval\fR (ignored)"
The interval between queue runs. Use the \fBqueue_run_delay\fR
configuration parameter instead.
.IP \fB-qR\fIsite\fR
Schedule immediate delivery of all mail that is queued for the named
\fIsite\fR. Depending on the destination, this uses "fast flush"
service, or it has the same effect as \fBsendmail -q\fR.
This is implemented by connecting to the local SMTP server.
See \fBsmtpd\fR(8) for more information about the "fast flush"
service.
.IP \fB-qS\fIsite\fR
This command is not implemented. Use the slower \fBsendmail -q\fR
command instead.
.IP \fB-t\fR
Extract recipients from message headers. This requires that no
recipients be specified on the command line.
.IP \fB-v\fR
Enable verbose logging for debugging purposes. Multiple \fB-v\fR
options make the software increasingly verbose.
.SH SECURITY
.na
.nf
.ad
.fi
By design, this program is not set-user (or group) id. However,
it must handle data from untrusted users or untrusted machines.
Thus, the usual precautions need to be taken against malicious
inputs.
.SH DIAGNOSTICS
.ad
.fi
Problems are logged to \fBsyslogd\fR(8) and to the standard error
stream.
.SH ENVIRONMENT
.na
.nf
.ad
.fi
.IP \fBMAIL_CONFIG\fR
Directory with Postfix configuration files.
.IP \fBMAIL_VERBOSE\fR
Enable verbose logging for debugging purposes.
.IP \fBMAIL_DEBUG\fR
Enable debugging with an external command, as specified with the
\fBdebugger_command\fR configuration parameter.
.SH FILES
.na
.nf
/var/spool/postfix, mail queue
/etc/postfix, configuration files
.SH CONFIGURATION PARAMETERS
.na
.nf
.ad
.fi
See the Postfix \fBmain.cf\fR file for syntax details and for
default values. Use the \fBpostfix reload\fR command after a
configuration change.
.IP \fBalias_database\fR
Default alias database(s) for \fBnewaliases\fR. The default value
for this parameter is system-specific.
.IP \fBbounce_size_limit\fR
The amount of original message context that is sent along
with a non-delivery notification.
.IP \fBdatabase_type\fR
Default alias etc. database type. On many UNIX systems the
default type is either \fBdbm\fR or \fBhash\fR.
.IP \fBdebugger_command\fR
Command that is executed after a Postfix daemon has initialized.
.IP \fBdebug_peer_level\fR
Increment in verbose logging level when a remote host matches a
pattern in the \fBdebug_peer_list\fR parameter.
.IP \fBdebug_peer_list\fR
List of domain or network patterns. When a remote host matches
a pattern, increase the verbose logging level by the amount
specified in the \fBdebug_peer_level\fR parameter.
.IP \fBfast_flush_domains\fR
List of domains that will receive "fast flush" service (default: all
domains that this system is willing to relay mail to). This greatly
improves the performance of the SMTP \fBETRN\fR request, and of the
\fBsendmail -qR\fR command. For domains not in the list, Postfix simply
attempts to deliver all queued mail.
.IP \fBfork_attempts\fR
Number of attempts to \fBfork\fR() a process before giving up.
.IP \fBfork_delay\fR
Delay in seconds between successive \fBfork\fR() attempts.
.IP \fBhopcount_limit\fR
Limit the number of \fBReceived:\fR message headers.
.IP \fBmail_owner\fR
The owner of the mail queue and of most Postfix processes.
.IP \fBcommand_directory\fR
Directory with Postfix support commands (default:
\fB$program_directory\fR).
.IP \fBdaemon_directory\fR
Directory with Postfix daemon programs (default:
\fB$program_directory\fR).
.IP \fBqueue_directory\fR
Top-level directory of the Postfix queue. This is also the root
directory of Postfix daemons that run chrooted.
.IP \fBqueue_run_delay\fR
The time between successive scans of the deferred queue.
.SH SEE ALSO
.na
.nf
pickup(8) mail pickup daemon
postalias(1) maintain alias database
postdrop(1) privileged posting agent
postfix(1) mail system control
postkick(1) kick a Postfix daemon
qmgr(8) queue manager
showq(8) list mail queue
smtpd(8) SMTP server
flushd(8) fast flush service
syslogd(8) system logging
.SH LICENSE
.na
.nf
.ad
.fi
The Secure Mailer license must be distributed with this software.
.SH AUTHOR(S)
.na
.nf
Wietse Venema
IBM T.J. Watson Research
P.O. Box 704
Yorktown Heights, NY 10598, USA
